# Building and Installing rabbitmq-c

## Getting the code:
The source is hosted on github: https://github.com/alanxz/rabbitmq-c
It can be downloaded using the git command:

    git clone https://github.com/alanxz/rabbitmq-c
    cd rabbitmq-c
    git submodule init
    git submodule update

**Note: don't forget the last two ```git submodule``` commands. They're required
to pull in a dependancy necessary to build the library.**

## Building with CMake (recommended, works on most platforms including Win32)
### Prerequisites:
 - [CMake v2.6 or better](http://www.cmake.org)
 - A C compiler (GCC 4.4+, clang, and MSVC are tested, others compilers may also work)
 - Python 2.5+ or 3.0+ with the json or simplejson module installed

### Configuring and building the library:
Follow the typical CMake build procedure:
 - Create a build directory in a directory that is a sibiling to the source directory.
 - In that build directory run cmake against the source directory. Depending on
   which generator you use (see CMake -G flag documentation) a build system will
   be created.
 - Build the library using whatever build system was generated by CMake. If
   the "Unix Makefiles" generator was used, invoking make in the build directory
   will cause the library to be built
 - The install target will install the library and header files

Some useful parameters that can be set when configuring:
 - ```BUILD_SHARED_LIBS``` - build rabbitmq-c as a shared library, a static library 
   is built otherwise. Defaults to ON.
 - ```BUILD_EXAMPLES``` - build the example programs in the examples/ directory. 
   Defaults to ON.
 - ```BUILD_TOOLS``` - build some rabbitmq command line utilities. Requires the POpt
   library and headers to be available. Defaults to ON if POpt is found.
 - ```BUILD_TOOLS_DOCS``` - build the man pages for the utilities.  Requires XmlTo.
   Defaults to ON if both POpt and XmlTo are found.
 - ```BUILD_API_DOCS``` - enables the docs target, which allows the Doxygen API 
   documentation to be built. Requires Doxygen to be installed. Defaults to ON
   if Doxygen is found.

 - ```CMAKE_BUILD_TYPE``` - Set this to Debug for a debug build. Default is 'Release'
 - ```CMAKE_INSTALL_PREFIX``` - This is the install prefix. CMake sets it based on 
   the being build on.


## Building with autotools (for times when CMake will not work)
### Prerequisites:
 - autoconf v2.59+
 - automake v1.9+
 - libtool v2.2+
 - make
 - A C compiler
 - Python 2.5+ or 3.0+ with the json or simplejson module installed

### Configuring and building the library:
Follow the typical autotools build procedure:

     $ ./configure
     $ make
     $ make install

